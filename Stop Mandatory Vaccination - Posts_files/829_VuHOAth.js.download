if (self.CavalryLogger) { CavalryLogger.start_js(["6+aEM"]); }

__d("ShareMenuTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:ShareMenuLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:ShareMenuLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ShareMenuLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAppID=function(a){this.$1.appid=a;return this};a.prototype.setAppversion=function(a){this.$1.appversion=a;return this};a.prototype.setClienttime=function(a){this.$1.clienttime=a;return this};a.prototype.setComposerSessionID=function(a){this.$1.composer_session_id=a;return this};a.prototype.setCountry=function(a){this.$1.country=a;return this};a.prototype.setDeviceid=function(a){this.$1.deviceid=a;return this};a.prototype.setExtraClientData=function(a){this.$1.extra_client_data=a;return this};a.prototype.setFbAudience=function(a){this.$1.fb_audience=a;return this};a.prototype.setFbEntryPoint=function(a){this.$1.fb_entry_point=a;return this};a.prototype.setFbShareType=function(a){this.$1.fb_share_type=a;return this};a.prototype.setFbSignificance=function(a){this.$1.fb_significance=a;return this};a.prototype.setName=function(a){this.$1.name=a;return this};a.prototype.setOrcaEntryPoint=function(a){this.$1.orca_entry_point=a;return this};a.prototype.setOrcaSignificance=function(a){this.$1.orca_significance=a;return this};a.prototype.setSessionid=function(a){this.$1.sessionid=a;return this};a.prototype.setShareMenuOptionsAvailable=function(a){this.$1.share_menu_options_available=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={appid:!0,appversion:!0,clienttime:!0,composer_session_id:!0,country:!0,deviceid:!0,extra_client_data:!0,fb_audience:!0,fb_entry_point:!0,fb_share_type:!0,fb_significance:!0,name:!0,orca_entry_point:!0,orca_significance:!0,sessionid:!0,share_menu_options_available:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("XShareConfirmationDisplayController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/share/confirmation_display/",{post_id:{type:"String",required:!0}})}),null);
__d("ShareConfirmationController",["csx","cx","AsyncRequest","DOM","Locale","React","ReactDOM","ShareConfirmationConfig","XShareConfirmationDisplayController","XUICard.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a={tryDisplayShareInFeed:function(a,c){__p&&__p();if(!b("ShareConfirmationConfig").display_reshares_in_feed)return;var d="^div._3lb4";c=b("DOM").scry(c,d);d=c.length===1?c[0]:void 0;if(d&&a&&a.object_id&&a.is_wall_share){var e=b("DOM").create("div");b("DOM").appendContent(d,e);this.populatePlaceholderDiv(e);c=b("XShareConfirmationDisplayController").getURIBuilder().setString("post_id",a.object_id);new(b("AsyncRequest"))().setHandler(function(a){a&&a.payload&&a.payload.success||b("DOM").remove(e)}).setErrorHandler(function(){b("DOM").remove(e)}).setRelativeTo(e).setURI(c.getURI()).setAllowCrossPageTransition(!0).send()}},populatePlaceholderDiv:function(a){b("ReactDOM").render(b("React").createElement(b("XUICard.react"),{className:b("joinClasses")("_2iwp","_vaz")},b("React").createElement("div",{className:(b("Locale").isRTL()?"direction_rtl":"")+" _2iwo _va-"},b("React").createElement("div",{className:"_2iwq"},b("React").createElement("div",{className:"_2iwr"}),b("React").createElement("div",{className:"_2iws"}),b("React").createElement("div",{className:"_2iwt"}),b("React").createElement("div",{className:"_2iwu"}),b("React").createElement("div",{className:"_2iwv"}),b("React").createElement("div",{className:"_2iww"}),b("React").createElement("div",{className:"_2iwx"}),b("React").createElement("div",{className:"_2iwy"}),b("React").createElement("div",{className:"_2iwz"}),b("React").createElement("div",{className:"_2iw-"}),b("React").createElement("div",{className:"_2iw_"}),b("React").createElement("div",{className:"_2ix0"})))),a)}};e.exports=a}),null);
__d("ShareAudience",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=Object.freeze({EVERYONE:"everyone",FRIENDS:"friends",FOF:"fof",SELF:"self",CUSTOM:"custom",PAGE:"page",GROUP:"group",MESSENGER:"messenger",FRIEND_TIMELINE:"friend_timeline",UNKNOWN:"unknown",fromPrivacyString:function(a){switch(a){case null:case void 0:case g.UNKNOWN:return g.UNKNOWN;case"286958161406148":return g.SELF;case"300645083384735":return g.EVERYONE;case"368493386561757":case"275425949243301":return g.FOF;case"123780391104836":case"291667064279714":return g.FRIENDS;default:return g.CUSTOM}}});e.exports=g}),null);
__d("ShareMenuEventShareType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SHARE_FLOW_STARTED:"share_flow_started",SHARE_OPTION_SELECTED:"share_option_selected",SHARE_PUBLISH_STARTED:"share_publish_started",SHARE_CREATED:"share_created",SHARE_ABANDONED:"share_abandoned",SHARE_FAILURE:"share_failure"})}),null);
__d("ShareSignificance",[],(function(a,b,c,d,e,f){"use strict";var g=Object.freeze({SIGNIFICANT:"significant",NOT_SIGNIFICANT:"not_significant",NO_TEXT:"no_text",calculate:function(a){if(!a)return g.NO_TEXT;var b=new Set();(a||"").toLowerCase().split(" ").forEach(function(a){return b.add(a)});return b.size>5?g.SIGNIFICANT:g.NOT_SIGNIFICANT}});e.exports=g}),null);
__d("ShareMetricsLoggingController",["ReactComposerLoggingName","ShareAudience","ShareMenuEventShareType","ShareMenuTypedLogger","ShareSignificance"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={logShareNowResponsePayload:function(a){if(!a)return;var c="unknown";a.audience==="own"?c=a.privacy:a==="friend"?c="friend_timeline":c=a.audience;this._logImpl(b("ShareMenuEventShareType").SHARE_CREATED,"share_now",c,b("ShareSignificance").NO_TEXT)},logReactComposerEvent:function(a,c,d,e,f){__p&&__p();var g=b("ShareAudience").UNKNOWN;switch(c){case"self":g=b("ShareAudience").fromPrivacyString(f);break;case"friend":g=b("ShareAudience").FRIEND_TIMELINE;break;case"message":g=b("ShareAudience").MESSENGER;break;case"group":g=b("ShareAudience").GROUP;break;case"page":g=b("ShareAudience").PAGE;break}var h;switch(e){case b("ReactComposerLoggingName").SHARE_NOW_MENU_SHARE_TO_PAGE:h="share_to_page";break;case b("ReactComposerLoggingName").SHARE_NOW_MENU_POST_TO_GROUP:h="share_to_group";break;case b("ReactComposerLoggingName").SHARE_NOW_MENU_SEND_MESSAGE:h="send_in_message";break;case b("ReactComposerLoggingName").SHARE_NOW_MENU_SHARE_FRIEND_TIMELINE:h="share_to_friend_timeline";break;case b("ReactComposerLoggingName").SHARE_NOW_MENU_WRITE_POST:h="write_post";break;default:h="unknown";break}c=b("ShareSignificance").calculate(d);this._logImpl(a,h,g,c)},log:function(a,b,c,d){this._logImpl(a,b,c,d)},_logImpl:function(a,c,d,e){a=new(b("ShareMenuTypedLogger"))().setName("feed_share_action").setFbShareType(a).setFbEntryPoint(c);d&&a.setFbAudience(d);e&&a.setFbSignificance(e);a.log()}};e.exports=a}),null);
__d("ReactComposerShareNowActionTypes",["keyMirror"],(function(a,b,c,d,e,f){e.exports=b("keyMirror")({ADD_TO_STORY_NOW:null,CANCEL_SHARE:null,OPEN_FRIEND_TIMELINE_DIALOG:null,OPEN_INVITE_FRIENDS_TO_DONATE:null,OPEN_MESSAGE_DIALOG:null,OPEN_SHARE_DIALOG:null,OPEN_SHARE_TO_GROUP:null,OPEN_SHARE_TO_PAGE:null,SHARE_NOW:null,SHOW_SHARENOW_MENU:null})}),null);
__d("ReactComposerShareNowActions",["ReactComposerDispatcher","ReactComposerShareNowActionTypes"],(function(a,b,c,d,e,f){__p&&__p();a={showShareNowMenu:function(){b("ReactComposerDispatcher").dispatch({composerID:"",type:b("ReactComposerShareNowActionTypes").SHOW_SHARENOW_MENU,suppressWaterfallLogging:!0})},clickShareNow:function(){b("ReactComposerDispatcher").dispatch({composerID:"",type:b("ReactComposerShareNowActionTypes").SHARE_NOW,suppressWaterfallLogging:!0})},clickWritePost:function(){b("ReactComposerDispatcher").dispatch({composerID:"",type:b("ReactComposerShareNowActionTypes").OPEN_SHARE_DIALOG,suppressWaterfallLogging:!0})},clickAddToStoryNow:function(){b("ReactComposerDispatcher").dispatch({composerID:"",type:b("ReactComposerShareNowActionTypes").ADD_TO_STORY_NOW,suppressWaterfallLogging:!0})},clickSendMessage:function(){b("ReactComposerDispatcher").dispatch({composerID:"",type:b("ReactComposerShareNowActionTypes").OPEN_MESSAGE_DIALOG,suppressWaterfallLogging:!0})},clickShareFriendTimeline:function(){b("ReactComposerDispatcher").dispatch({composerID:"",type:b("ReactComposerShareNowActionTypes").OPEN_FRIEND_TIMELINE_DIALOG,suppressWaterfallLogging:!0})},clickShareToGroup:function(){b("ReactComposerDispatcher").dispatch({composerID:"",type:b("ReactComposerShareNowActionTypes").OPEN_SHARE_TO_GROUP,suppressWaterfallLogging:!0})},clickShareToPage:function(){b("ReactComposerDispatcher").dispatch({composerID:"",type:b("ReactComposerShareNowActionTypes").OPEN_SHARE_TO_PAGE,suppressWaterfallLogging:!0})},clickInviteFriendsToDonate:function(){b("ReactComposerDispatcher").dispatch({composerID:"",type:b("ReactComposerShareNowActionTypes").OPEN_INVITE_FRIENDS_TO_DONATE,suppressWaterfallLogging:!0})},cancelShare:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerShareNowActionTypes").CANCEL_SHARE})}};e.exports=a}),null);
__d("ComposerShareNowEntryPoints",[],(function(a,b,c,d,e,f){"use strict";e.exports={ADD_TO_STORY_NOW:"add_to_story_now",INVITE_FRIENDS_TO_DONATE:"invite_friends_to_donate",SEND_IN_MESSAGE:"send_in_message",SHARE_NOW:"share_now",SHARE_TO_FRIEND_TIMELINE:"share_to_friend_timeline",SHARE_TO_GROUP:"share_to_group",SHARE_TO_PAGE:"share_to_page",WRITE_POST:"write_post"}}),null);
__d("ReactShareDialogComposerActionType",["keyMirror"],(function(a,b,c,d,e,f){e.exports=b("keyMirror")({SET_SHOULD_CREATE_LIVING_ROOM:null,SET_SHARE_DIALOG_TARGET:null,SET_SHARE_DIALOG_TARGET_INFO:null,SET_SHARE_DIALOG_TARGETED_PRIVACY_DATA:null,SET_SHARE_DIALOG_TYPE:null,SET_SHARE_TO_GROUPS_AS_PAGE:null,SET_VIDEO_CLIP_START_TIME:null,SET_VIDEO_CLIP_SELECTION:null})}),null);
__d("ReactShareDialogComposerStore",["ReactComposerStoreBase","ReactShareDialogComposerActionType"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("ReactComposerStoreBase"));g=c&&c.prototype;function a(){"use strict";__p&&__p();var a;g.constructor.call(this,function(){return{createLivingRoom:!1,target:null,targetInfo:{}}},function(c){__p&&__p();switch(c.type){case b("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TARGET:a&&a.$ReactShareDialogComposerStore1(c);break;case b("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TARGET_INFO:a&&a.$ReactShareDialogComposerStore2(c);break;case b("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TARGETED_PRIVACY_DATA:a&&a.$ReactShareDialogComposerStore3(c);break;case b("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TYPE:a&&a.$ReactShareDialogComposerStore4(c);break;case b("ReactShareDialogComposerActionType").SET_SHARE_TO_GROUPS_AS_PAGE:a&&a.$ReactShareDialogComposerStore5(c);break;case b("ReactShareDialogComposerActionType").SET_VIDEO_CLIP_START_TIME:a&&a.$ReactShareDialogComposerStore6(c);break;case b("ReactShareDialogComposerActionType").SET_VIDEO_CLIP_SELECTION:a&&a.$ReactShareDialogComposerStore7(c);break;case b("ReactShareDialogComposerActionType").SET_SHOULD_CREATE_LIVING_ROOM:a&&a.$ReactShareDialogComposerStore8(c);break}});a=this}a.prototype.getTarget=function(a){"use strict";return this.getComposerData(a).target};a.prototype.getTargetInfo=function(a){"use strict";return this.getComposerData(a).targetInfo};a.prototype.getTargetedPrivacyData=function(a){"use strict";return this.getComposerData(a).targetedPrivacyData};a.prototype.getShareDialogType=function(a){"use strict";return this.getComposerData(a).shareType};a.prototype.getShareToGroupsAsPage=function(a){"use strict";return!!this.getComposerData(a).shareToGroupsAsPage};a.prototype.getVideoStartTimeMs=function(a){"use strict";return this.getComposerData(a).videoStartTimeMs};a.prototype.isTimestampShare=function(a){"use strict";return this.getComposerData(a).isTimestampShare};a.prototype.getShouldCreateLivingRoom=function(a){"use strict";return this.getComposerData(a).createLivingRoom};a.prototype.$ReactShareDialogComposerStore1=function(a){"use strict";var b=this.getComposerData(a.composerID);b.target=a.target;this.emitChange(a.composerID)};a.prototype.$ReactShareDialogComposerStore2=function(a){"use strict";var b=this.getComposerData(a.composerID);b.targetInfo=a.targetInfo;this.emitChange(a.composerID)};a.prototype.$ReactShareDialogComposerStore3=function(a){"use strict";var b=this.getComposerData(a.composerID);b.targetedPrivacyData=a.targetedPrivacyData;this.emitChange(a.composerID)};a.prototype.$ReactShareDialogComposerStore4=function(a){"use strict";var b=this.getComposerData(a.composerID);b.shareType=a.shareType;this.emitChange(a.composerID)};a.prototype.$ReactShareDialogComposerStore5=function(a){"use strict";var b=this.getComposerData(a.composerID);b.shareToGroupsAsPage=a.shareToGroupsAsPage;this.emitChange(a.composerID)};a.prototype.$ReactShareDialogComposerStore6=function(a){"use strict";var b=this.validateAction(a,["composerID"]),c=this.getComposerData(b);c.videoStartTimeMs=a.videoStartTimeMs;this.emitChange(b)};a.prototype.$ReactShareDialogComposerStore7=function(a){"use strict";var b=this.validateAction(a,["composerID"]),c=this.getComposerData(b);c.isTimestampShare=a.isTimestampShare;this.emitChange(b)};a.prototype.$ReactShareDialogComposerStore8=function(a){"use strict";var b=this.validateAction(a,["composerID"]),c=this.getComposerData(b);c.createLivingRoom=a.createLivingRoom;this.emitChange(b)};e.exports=new a()}),null);
__d("ReactShareDialogLoggingStore",["ComposerShareNowEntryPoints","FunnelLogger","MessengerBootloadedSecondarySearchLogger","MessengerSecondarySearchFunnelConstants","ReactComposerActionTypes","ReactComposerAudienceActionTypes","ReactComposerLoggingName","ReactComposerShareNowActionTypes","ReactComposerStatusActionType","ReactComposerStoreBase","ReactComposerTaggerActionType","ReactComposerTaggerType","ReactShareDialogComposerActionType","ReactShareDialogComposerStore","ReactComposerStatusStore","ShareAudience","ShareMenuEventShareType","ShareMetricsLoggingController"],(function(a,b,c,d,e,f){__p&&__p();var g,h="WWW_FEED_SHARE_DIALOG_FUNNEL";c=babelHelpers.inherits(a,b("ReactComposerStoreBase"));g=c&&c.prototype;function a(){"use strict";var a;g.constructor.call(this,function(){return{audience:b("ShareAudience").UNKNOWN,triggeredFrom:b("ReactComposerLoggingName").OTHERS}},function(b){a.__onDispatch(b)});a=this;this.$ReactShareDialogLoggingStore2=0;this.$ReactShareDialogLoggingStore3=!1}a.prototype.__onDispatch=function(a){"use strict";__p&&__p();switch(a.type){case b("ReactComposerShareNowActionTypes").ADD_TO_STORY_NOW:this.$ReactShareDialogLoggingStore4(a);break;case b("ReactComposerShareNowActionTypes").CANCEL_SHARE:this.$ReactShareDialogLoggingStore5(a);break;case b("ReactComposerShareNowActionTypes").SHOW_SHARENOW_MENU:this.$ReactShareDialogLoggingStore6(a);break;case b("ReactComposerShareNowActionTypes").SHARE_NOW:this.$ReactShareDialogLoggingStore7(a);break;case b("ReactComposerShareNowActionTypes").OPEN_FRIEND_TIMELINE_DIALOG:this.$ReactShareDialogLoggingStore8(a);break;case b("ReactComposerShareNowActionTypes").OPEN_INVITE_FRIENDS_TO_DONATE:this.$ReactShareDialogLoggingStore9(a);break;case b("ReactComposerShareNowActionTypes").OPEN_SHARE_TO_PAGE:this.$ReactShareDialogLoggingStore10(a);break;case b("ReactComposerShareNowActionTypes").OPEN_SHARE_TO_GROUP:this.$ReactShareDialogLoggingStore11(a);break;case b("ReactComposerShareNowActionTypes").OPEN_MESSAGE_DIALOG:this.$ReactShareDialogLoggingStore12(a);break;case b("ReactComposerShareNowActionTypes").OPEN_SHARE_DIALOG:this.$ReactShareDialogLoggingStore13(a);break;case b("ReactComposerTaggerActionType").SET_SELECTED_TAGGER:this.$ReactShareDialogLoggingStore14(a);break;case b("ReactComposerStatusActionType").SET_EDITOR_STATE:this.$ReactShareDialogLoggingStore15(a);break;case b("ReactComposerTaggerActionType").SET_TAGGER_DATA:this.$ReactShareDialogLoggingStore16(a);break;case b("ReactComposerActionTypes").INIT_CONFIG:this.$ReactShareDialogLoggingStore17(a);break;case b("ReactComposerActionTypes").POST_INTENDED:this.$ReactShareDialogLoggingStore18(a);break;case b("ReactComposerActionTypes").POST_SUCCEEDED:this.$ReactShareDialogLoggingStore19(a);break;case b("ReactComposerActionTypes").POST_ERROR:this.$ReactShareDialogLoggingStore20(a);break;case b("ReactComposerAudienceActionTypes").SET_AUDIENCE:this.$ReactShareDialogLoggingStore21(a);break;case b("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TARGET:this.$ReactShareDialogLoggingStore22(a);break;default:}};a.prototype.$ReactShareDialogLoggingStore23=function(a){"use strict";return this.$ReactShareDialogLoggingStore1===a.composerID};a.prototype.$ReactShareDialogLoggingStore8=function(a){"use strict";this.$ReactShareDialogLoggingStore3=!0,b("FunnelLogger").appendAction(h,b("ComposerShareNowEntryPoints").SHARE_TO_FRIEND_TIMELINE),b("ShareMetricsLoggingController").log(b("ShareMenuEventShareType").SHARE_OPTION_SELECTED,b("ComposerShareNowEntryPoints").SHARE_TO_FRIEND_TIMELINE)};a.prototype.$ReactShareDialogLoggingStore9=function(a){"use strict";this.$ReactShareDialogLoggingStore3=!0,b("FunnelLogger").appendAction(h,"share_invite_friends_to_donate"),b("ShareMetricsLoggingController").log(b("ShareMenuEventShareType").SHARE_OPTION_SELECTED,b("ComposerShareNowEntryPoints").INVITE_FRIENDS_TO_DONATE)};a.prototype.$ReactShareDialogLoggingStore10=function(a){"use strict";this.$ReactShareDialogLoggingStore3=!0,b("FunnelLogger").appendAction(h,b("ComposerShareNowEntryPoints").SHARE_TO_PAGE),b("ShareMetricsLoggingController").log(b("ShareMenuEventShareType").SHARE_OPTION_SELECTED,b("ComposerShareNowEntryPoints").SHARE_TO_PAGE)};a.prototype.$ReactShareDialogLoggingStore11=function(a){"use strict";this.$ReactShareDialogLoggingStore3=!0,b("FunnelLogger").appendAction(h,b("ComposerShareNowEntryPoints").SHARE_TO_GROUP),b("ShareMetricsLoggingController").log(b("ShareMenuEventShareType").SHARE_OPTION_SELECTED,b("ComposerShareNowEntryPoints").SHARE_TO_GROUP)};a.prototype.$ReactShareDialogLoggingStore6=function(a){"use strict";b("FunnelLogger").startFunnel(h),b("ShareMetricsLoggingController").log(b("ShareMenuEventShareType").SHARE_FLOW_STARTED)};a.prototype.$ReactShareDialogLoggingStore7=function(a){"use strict";b("FunnelLogger").appendAction(h,b("ComposerShareNowEntryPoints").SHARE_NOW),b("FunnelLogger").endFunnel(h),b("ShareMetricsLoggingController").log(b("ShareMenuEventShareType").SHARE_OPTION_SELECTED,b("ComposerShareNowEntryPoints").SHARE_NOW),b("ShareMetricsLoggingController").log(b("ShareMenuEventShareType").SHARE_PUBLISH_STARTED,b("ComposerShareNowEntryPoints").SHARE_NOW),delete this.$ReactShareDialogLoggingStore1};a.prototype.$ReactShareDialogLoggingStore4=function(a){"use strict";b("ShareMetricsLoggingController").log(b("ShareMenuEventShareType").SHARE_OPTION_SELECTED,b("ComposerShareNowEntryPoints").ADD_TO_STORY_NOW),b("ShareMetricsLoggingController").log(b("ShareMenuEventShareType").SHARE_PUBLISH_STARTED,b("ComposerShareNowEntryPoints").ADD_TO_STORY_NOW),delete this.$ReactShareDialogLoggingStore1};a.prototype.$ReactShareDialogLoggingStore12=function(a){"use strict";this.$ReactShareDialogLoggingStore3=!0,b("FunnelLogger").appendAction(h,"start_send_message"),b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.START,surface:b("MessengerSecondarySearchFunnelConstants").SEARCH_SURFACES.BROADCAST,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.BROADCAST}),b("ShareMetricsLoggingController").log(b("ShareMenuEventShareType").SHARE_OPTION_SELECTED,b("ComposerShareNowEntryPoints").SEND_IN_MESSAGE)};a.prototype.$ReactShareDialogLoggingStore13=function(a){"use strict";this.$ReactShareDialogLoggingStore3=!0,b("FunnelLogger").appendAction(h,"start_share"),b("ShareMetricsLoggingController").log(b("ShareMenuEventShareType").SHARE_OPTION_SELECTED,b("ComposerShareNowEntryPoints").WRITE_POST)};a.prototype.$ReactShareDialogLoggingStore17=function(a){"use strict";this.$ReactShareDialogLoggingStore3&&(this.$ReactShareDialogLoggingStore3=!1,b("FunnelLogger").appendAction(h,"load_composer"),this.$ReactShareDialogLoggingStore1=a.composerID,this.getComposerData(a.composerID).triggeredFrom=a.triggeredFrom)};a.prototype.$ReactShareDialogLoggingStore19=function(a){"use strict";this.$ReactShareDialogLoggingStore23(a)&&(b("FunnelLogger").appendAction(h,"success"),b("FunnelLogger").endFunnel(h),b("ShareMetricsLoggingController").logReactComposerEvent(b("ShareMenuEventShareType").SHARE_CREATED,b("ReactShareDialogComposerStore").getTarget(a.composerID),b("ReactComposerStatusStore").getMessageText(a.composerID),this.getComposerData(a.composerID).triggeredFrom,this.getComposerData(a.composerID).audience),delete this.$ReactShareDialogLoggingStore1)};a.prototype.$ReactShareDialogLoggingStore20=function(a){"use strict";this.$ReactShareDialogLoggingStore23(a)&&(b("FunnelLogger").appendAction(h,"failure"),b("FunnelLogger").endFunnel(h),b("ShareMetricsLoggingController").logReactComposerEvent(b("ShareMenuEventShareType").SHARE_FAILURE,b("ReactShareDialogComposerStore").getTarget(a.composerID),b("ReactComposerStatusStore").getMessageText(a.composerID),this.getComposerData(a.composerID).triggeredFrom,this.getComposerData(a.composerID).audience),delete this.$ReactShareDialogLoggingStore1)};a.prototype.$ReactShareDialogLoggingStore18=function(a){"use strict";this.$ReactShareDialogLoggingStore23(a)&&b("FunnelLogger").appendAction(h,"start_post")};a.prototype.$ReactShareDialogLoggingStore15=function(a){"use strict";this.$ReactShareDialogLoggingStore23(a)&&(a.editorState.getLastChangeType()==="insert-characters"&&b("FunnelLogger").appendActionIfNew(h,"edit_text"))};a.prototype.$ReactShareDialogLoggingStore14=function(a){"use strict";if(this.$ReactShareDialogLoggingStore23(a))switch(a.taggerID){case b("ReactComposerTaggerType").PEOPLE:b("FunnelLogger").appendAction(h,"peopletag_click");break;case b("ReactComposerTaggerType").LOCATION:b("FunnelLogger").appendAction(h,"locationtag_click");break;case b("ReactComposerTaggerType").ACTIVITY:b("FunnelLogger").appendAction(h,"activitytag_click");break;default:}};a.prototype.$ReactShareDialogLoggingStore16=function(a){"use strict";if(this.$ReactShareDialogLoggingStore23(a))switch(a.taggerID){case b("ReactComposerTaggerType").PEOPLE:this.$ReactShareDialogLoggingStore24(a);break;case b("ReactComposerTaggerType").LOCATION:this.$ReactShareDialogLoggingStore25(a);break;case b("ReactComposerTaggerType").ACTIVITY:this.$ReactShareDialogLoggingStore26(a);break;default:}};a.prototype.$ReactShareDialogLoggingStore24=function(a){"use strict";a.taggerData.length>this.$ReactShareDialogLoggingStore2?b("FunnelLogger").appendActionIfNew(h,"peopletag_add"):b("FunnelLogger").appendActionIfNew(h,"peopletag_remove"),this.$ReactShareDialogLoggingStore2=a.taggerData.length};a.prototype.$ReactShareDialogLoggingStore25=function(a){"use strict";a.taggerData.place?b("FunnelLogger").appendAction(h,"locationtag_add"):b("FunnelLogger").appendAction(h,"locationtag_remove")};a.prototype.$ReactShareDialogLoggingStore26=function(a){"use strict";!a.taggerData.action?b("FunnelLogger").appendAction(h,"activitytag_clear"):!a.taggerData.object?b("FunnelLogger").appendAction(h,"activitytag_select"):b("FunnelLogger").appendAction(h,"activitytag_addobject")};a.prototype.$ReactShareDialogLoggingStore5=function(a){"use strict";this.$ReactShareDialogLoggingStore23(a)&&(b("FunnelLogger").appendAction(h,"cancel_post"),b("FunnelLogger").endFunnel(h),b("ShareMetricsLoggingController").logReactComposerEvent(b("ShareMenuEventShareType").SHARE_ABANDONED,b("ReactShareDialogComposerStore").getTarget(a.composerID),b("ReactComposerStatusStore").getMessageText(a.composerID),this.getComposerData(a.composerID).triggeredFrom,this.getComposerData(a.composerID).audience),delete this.$ReactShareDialogLoggingStore1)};a.prototype.$ReactShareDialogLoggingStore21=function(a){"use strict";(!this.$ReactShareDialogLoggingStore1||this.$ReactShareDialogLoggingStore1===a.composerID)&&(this.getComposerData(a.composerID).audience=a.audience||a.legacyAudience),this.$ReactShareDialogLoggingStore23(a)&&b("FunnelLogger").appendActionWithTag(h,"set_audience",a.audience||a.legacyAudience)};a.prototype.$ReactShareDialogLoggingStore22=function(a){"use strict";this.$ReactShareDialogLoggingStore23(a)&&b("FunnelLogger").appendAction(h,"set_dialog_target")};e.exports=new a()}),null);
__d("ShareNowController",["csx","Bootloader","Dialog","DOM","Event","ReactComposerShareNowActions","ShareConfirmationController","ShareMetricsLoggingController","ShareNowConstants","ReactShareDialogLoggingStore"],(function(a,b,c,d,e,f,g){__p&&__p();b("ReactShareDialogLoggingStore");var h;a={initMenu:function(a){__p&&__p();var c=a.getTriggerElem();b("Event").listen(c,"success",function(a){try{a=a.data.response.payload;a.share_now_succeeded&&(this.showSuccess(a.message),b("ShareMetricsLoggingController").logShareNowResponsePayload(a),b("ShareConfirmationController").tryDisplayShareInFeed(a,c))}catch(a){}}.bind(this));b("Event").listen(c,"error",function(a){try{b("ShareMetricsLoggingController").log("share_failure","share_now"),this.showError(a.data.response.errorDescription)}catch(a){this.showError()}}.bind(this));a.getPopover().subscribe("show",this._logMenuShown)},showSuccess:function(a){this.showDialog(a||b("ShareNowConstants").success)},showError:function(a){this.showDialog(a||b("ShareNowConstants").error)},showDialog:function(a){h&&h.destroy(),h=new(b("Dialog"))().setBody(a).setAutohide(2500).setModal(!0).show()},_logMenuShown:function(){b("ReactComposerShareNowActions").showShareNowMenu()},attachMenuItemListeners:function(a){__p&&__p();var c=b("DOM").scry(a.getRoot(),"._2al7")[0],d=b("DOM").scry(a.getRoot(),"._2al8")[0],e=b("DOM").scry(a.getRoot(),"._7ii_")[0],f=b("DOM").scry(a.getRoot(),"._2al9")[0],g=b("DOM").scry(a.getRoot(),"._1n80")[0],h=b("DOM").scry(a.getRoot(),"._3gc-")[0],i=b("DOM").scry(a.getRoot(),"._3gc_")[0];a=b("DOM").scry(a.getRoot(),"._3gcz")[0];c&&c.addEventListener("click",b("ReactComposerShareNowActions").clickShareNow);d&&d.addEventListener("click",b("ReactComposerShareNowActions").clickWritePost);e&&e.addEventListener("click",b("ReactComposerShareNowActions").clickAddToStoryNow);f&&f.addEventListener("click",b("ReactComposerShareNowActions").clickSendMessage);g&&g.addEventListener("click",b("ReactComposerShareNowActions").clickShareFriendTimeline);h&&h.addEventListener("click",b("ReactComposerShareNowActions").clickShareToPage);i&&i.addEventListener("click",b("ReactComposerShareNowActions").clickShareToGroup);a&&a.addEventListener("click",b("ReactComposerShareNowActions").clickInviteFriendsToDonate)}};e.exports=a}),null);